ğŸš€ **Processus Backend & Tests API**

---

## âœ… **1ï¸âƒ£ Lancer le Backend**
ğŸ“Œ **DÃ©marrer le serveur Express**
```powershell
cd backend
node server.js
```
âœ… **Si tout fonctionne, tu verras :**
```
âœ… ConnectÃ© Ã  MongoDB Atlas
âœ… Serveur Express en ligne sur http://localhost:5000
```
ğŸš¨ **Si erreur :** VÃ©rifie `.env` et MongoDB Atlas.

---

## âœ… **2ï¸âƒ£ Lister les utilisateurs enregistrÃ©s**
ğŸ“Œ **Test de la route `/api/auth/users`**
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/api/auth/users" -Method GET
```
ğŸ“Œ **Si succÃ¨s, rÃ©ponse JSON :**
```json
[
  { "_id": "67cd769569567d8d8bd31d8a", "email": "test@example.com" }
]
```
ğŸš¨ **Si erreur `Cannot GET` :** VÃ©rifie que la route `/users` est bien ajoutÃ©e dans `auth.js` et relance `node server.js`.

---

## âœ… **3ï¸âƒ£ CrÃ©er un nouvel utilisateur (`Signup`)**
ğŸ“Œ **Ajouter un utilisateur avec**
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/api/auth/signup" `
-Method POST `
-Headers @{"Content-Type"="application/json"} `
-Body '{"email":"newuser@example.com", "password":"password123"}' `
-UseBasicParsing
```
âœ… **RÃ©ponse attendue :**
```json
{ "message": "Utilisateur crÃ©Ã© avec succÃ¨s !" }
```
ğŸ“Œ **VÃ©rifie dans MongoDB Atlas (`walletDB â†’ users`) que lâ€™utilisateur est bien ajoutÃ©.**

---

## âœ… **4ï¸âƒ£ Tester la connexion (`Login`)**
ğŸ“Œ **Connexion avec les identifiants de lâ€™utilisateur :**
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/api/auth/login" `
-Method POST `
-Headers @{"Content-Type"="application/json"} `
-Body '{"email":"newuser@example.com", "password":"password123"}' `
-UseBasicParsing
```
âœ… **Si succÃ¨s, tu obtiens un `token JWT` :**
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "userId": "67cd769569567d8d8bd31d8a"
}
```
ğŸ“Œ **Copie ce `token JWT` pour les tests suivants.**

---

## âœ… **5ï¸âƒ£ Tester le portefeuille utilisateur (`GET /api/user/portfolio`)**
ğŸ“Œ **Avec le `token JWT` obtenu aprÃ¨s `login` :**
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/api/user/portfolio" `
-Method GET `
-Headers @{"Authorization"="Bearer TON_TOKEN_JWT"}
```
âœ… **RÃ©ponse attendue (portefeuille vide) :**
```json
[]
```

---

## âœ… **6ï¸âƒ£ Ajouter une action au portefeuille (`POST /api/user/portfolio`)**
ğŸ“Œ **Ajout de `AAPL` :**
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/api/user/portfolio" `
-Method POST `
-Headers @{"Authorization"="Bearer TON_TOKEN_JWT"; "Content-Type"="application/json"} `
-Body '{"ticker":"AAPL"}'
```
âœ… **RÃ©ponse attendue :**
```json
["AAPL"]
```
ğŸ“Œ **VÃ©rifie dans MongoDB Atlas si l'action est bien enregistrÃ©e.**

---

## âœ… **7ï¸âƒ£ Supprimer une action du portefeuille (`DELETE /api/user/portfolio`)**
ğŸ“Œ **Suppression de `AAPL` :**
```powershell
Invoke-WebRequest -Uri "http://localhost:5000/api/user/portfolio" `
-Method DELETE `
-Headers @{"Authorization"="Bearer TON_TOKEN_JWT"; "Content-Type"="application/json"} `
-Body '{"ticker":"AAPL"}'
```
âœ… **RÃ©ponse attendue :**
```json
[]
```
ğŸ“Œ **VÃ©rifie dans MongoDB Atlas que lâ€™action a bien Ã©tÃ© supprimÃ©e.**

---

## ğŸš€ **Prochaines Ã©tapes avant le frontend**
âœ” VÃ©rifier que toutes les fonctionnalitÃ©s backend fonctionnent correctement âœ…  
âœ” Ajouter un bouton "DÃ©connexion" sur le frontend ğŸ”œ  
âœ” Afficher les prix des actions en temps rÃ©el sur `/portfolio` ğŸ”œ  
âœ” AmÃ©liorer le design du frontend ğŸ”œ  

---

ğŸ’¬ **Une fois ces tests validÃ©s, on amÃ©liore le backend avant d'aller sur le frontend ! ğŸš€ğŸ”¥**

